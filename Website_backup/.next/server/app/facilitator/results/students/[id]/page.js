(()=>{var e={};e.id=487,e.ids=[487],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8424:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Ym\\\\Desktop\\\\Ym\\\\sunday-school-attendance\\\\Website\\\\src\\\\components\\\\NavBar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\components\\NavBar.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11107:(e,t,s)=>{"use strict";var r=s(96575);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},12499:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,49782,23)),Promise.resolve().then(s.t.bind(s,23552,23)),Promise.resolve().then(s.t.bind(s,30708,23)),Promise.resolve().then(s.t.bind(s,17319,23)),Promise.resolve().then(s.t.bind(s,92079,23)),Promise.resolve().then(s.t.bind(s,8487,23)),Promise.resolve().then(s.t.bind(s,55543,23)),Promise.resolve().then(s.t.bind(s,42241,23))},15368:(e,t,s)=>{Promise.resolve().then(s.bind(s,18153))},18153:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(28625),a=s(64996),n=s(11107),l=s(93948),o=s.n(l);function i(){let{id:e}=(0,n.useParams)(),[t,s]=(0,a.useState)(null),[l,i]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[m,u]=(0,a.useState)(!0),[h,p]=(0,a.useState)(null),[x,b]=(0,a.useState)("Semester 1"),[f,v]=(0,a.useState)(!1),[g,j]=(0,a.useState)({subjectId:"",subjectName:"",mark:0,maxMark:100,percentage:0,grade:"",semester:"Semester 1",remarks:""}),N=(e,t)=>Math.round(e/t*100),y=e=>e>=90?"A+":e>=80?"A":e>=70?"B+":e>=60?"B":e>=50?"C+":e>=40?"C":e>=30?"D":"F",k=(e,t)=>{let s=N(e,t),r=y(s);j(a=>({...a,mark:e,maxMark:t,percentage:s,grade:r}))},P=async()=>{if(!g.subjectId||0===g.mark)return void p("Please fill in all required fields");try{let s={studentId:e,subjectId:g.subjectId,subjectName:g.subjectName,mark:g.mark,maxMark:g.maxMark,percentage:g.percentage,grade:g.grade,academicYear:t?.Academic_Year||"",semester:g.semester,date:new Date().toISOString().split("T")[0],remarks:g.remarks};c(e=>[...e,s]),v(!1),j({subjectId:"",subjectName:"",mark:0,maxMark:100,percentage:0,grade:"",semester:"Semester 1",remarks:""}),p(null)}catch(e){p("Failed to add result")}},C=async e=>{try{c(t=>t.filter(t=>t._id!==e))}catch(e){p("Failed to delete result")}},w=d.filter(e=>e.semester===x);return m?(0,r.jsx)("div",{className:"text-gray-500",children:"Loading student results..."}):h?(0,r.jsx)("div",{className:"text-red-500",children:h}):t?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Results"}),(0,r.jsxs)("p",{className:"text-gray-600",children:[t.First_Name," ",t.Father_Name," - ",t.Grade," (",t.Academic_Year,")"]})]}),(0,r.jsx)(o(),{href:"/facilitator/results/",className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Back to Students"})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Select Semester"}),(0,r.jsx)("div",{className:"flex gap-2",children:["Semester 1","Semester 2","Final"].map(e=>(0,r.jsx)("button",{onClick:()=>b(e),className:`px-4 py-2 rounded-lg ${x===e?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:e},e))})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Add New Result"}),(0,r.jsx)("button",{onClick:()=>v(!f),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:f?"Cancel":"Add Result"})]}),f&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),(0,r.jsxs)("select",{value:g.subjectId,onChange:e=>{let t=l.find(t=>t._id===e.target.value);j(s=>({...s,subjectId:e.target.value,subjectName:t?.name||""}))},className:"w-full p-3 border rounded-lg",children:[(0,r.jsx)("option",{value:"",children:"Select Subject"}),l.map(e=>(0,r.jsx)("option",{value:e._id||e.name,children:e.name},e._id||e.name))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mark"}),(0,r.jsx)("input",{type:"number",min:"0",max:g.maxMark,value:g.mark,onChange:e=>k(parseInt(e.target.value)||0,g.maxMark),className:"w-full p-3 border rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Mark"}),(0,r.jsx)("input",{type:"number",min:"1",value:g.maxMark,onChange:e=>k(g.mark,parseInt(e.target.value)||100),className:"w-full p-3 border rounded-lg"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Percentage"}),(0,r.jsx)("input",{type:"number",value:g.percentage,disabled:!0,className:"w-full p-3 border rounded-lg bg-gray-100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grade"}),(0,r.jsx)("input",{type:"text",value:g.grade,disabled:!0,className:"w-full p-3 border rounded-lg bg-gray-100"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),(0,r.jsx)("input",{type:"text",value:g.remarks,onChange:e=>j(t=>({...t,remarks:e.target.value})),placeholder:"Optional remarks",className:"w-full p-3 border rounded-lg"})]}),(0,r.jsx)("div",{className:"md:col-span-2 lg:col-span-3",children:(0,r.jsx)("button",{onClick:P,className:"w-full bg-green-600 text-white px-4 py-3 rounded-lg hover:bg-green-700",children:"Save Result"})})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["Results for ",x]}),0===w.length?(0,r.jsxs)("p",{className:"text-gray-600",children:["No results found for ",x,"."]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full border-collapse border",children:[(0,r.jsx)("thead",{className:"bg-gray-100",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"border p-3 text-left",children:"Subject"}),(0,r.jsx)("th",{className:"border p-3 text-left",children:"Mark"}),(0,r.jsx)("th",{className:"border p-3 text-left",children:"Max Mark"}),(0,r.jsx)("th",{className:"border p-3 text-left",children:"Percentage"}),(0,r.jsx)("th",{className:"border p-3 text-left",children:"Grade"}),(0,r.jsx)("th",{className:"border p-3 text-left",children:"Date"}),(0,r.jsx)("th",{className:"border p-3 text-left",children:"Remarks"}),(0,r.jsx)("th",{className:"border p-3 text-left",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:w.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"border p-3",children:e.subjectName}),(0,r.jsx)("td",{className:"border p-3",children:e.mark}),(0,r.jsx)("td",{className:"border p-3",children:e.maxMark}),(0,r.jsxs)("td",{className:"border p-3",children:[e.percentage,"%"]}),(0,r.jsx)("td",{className:"border p-3",children:e.grade}),(0,r.jsx)("td",{className:"border p-3",children:e.date}),(0,r.jsx)("td",{className:"border p-3",children:e.remarks||"-"}),(0,r.jsx)("td",{className:"border p-3",children:(0,r.jsx)("button",{onClick:()=>C(e._id||""),className:"text-red-600 hover:text-red-800",children:"Delete"})})]},e._id||`${e.subjectId}-${e.date}`))})]})})]})]}):(0,r.jsx)("div",{className:"text-red-500",children:"Student not found"})}function d(){return(0,r.jsx)(i,{})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20485:()=>{},25347:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>n});var r=s(57307);s(20485);var a=s(83717);let n={title:"Ethiopian Orthodox Sunday School",description:"Attendance management for Sunday School"};function l({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:(0,r.jsxs)(a.ld,{children:[(0,r.jsx)(a.jq,{}),(0,r.jsx)("section",{className:"container mx-auto p-6",children:e})]})})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31457:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,36018,23)),Promise.resolve().then(s.bind(s,89372)),Promise.resolve().then(s.bind(s,8424))},33873:e=>{"use strict";e.exports=require("path")},44609:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,93948,23)),Promise.resolve().then(s.bind(s,76170)),Promise.resolve().then(s.bind(s,61502))},49451:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,88416,23)),Promise.resolve().then(s.t.bind(s,27342,23)),Promise.resolve().then(s.t.bind(s,74078,23)),Promise.resolve().then(s.t.bind(s,64193,23)),Promise.resolve().then(s.t.bind(s,91573,23)),Promise.resolve().then(s.t.bind(s,95405,23)),Promise.resolve().then(s.t.bind(s,97301,23)),Promise.resolve().then(s.t.bind(s,36159,23))},51816:(e,t,s)=>{Promise.resolve().then(s.bind(s,80561))},55244:(e,t,s)=>{Promise.resolve().then(s.bind(s,74304))},61502:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var r=s(28625);function a(){return(0,r.jsx)("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:(0,r.jsx)("div",{className:"container mx-auto flex justify-between items-center",children:(0,r.jsx)("h1",{className:"text-xl font-bold",children:"Birhane Hiwot Sunday School"})})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74304:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(28625);function a({children:e}){return(0,r.jsx)("div",{className:"flex min-h-screen",children:(0,r.jsx)("main",{className:"flex-1 p-8 bg-gray-50",children:e})})}s(64996)},76170:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(28625),a=s(30034);function n({children:e}){return(0,r.jsx)(a.SessionProvider,{children:e})}},79551:e=>{"use strict";e.exports=require("url")},80561:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Ym\\\\Desktop\\\\Ym\\\\sunday-school-attendance\\\\Website\\\\src\\\\app\\\\facilitator\\\\results\\\\students\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\app\\facilitator\\results\\students\\[id]\\page.tsx","default")},83717:(e,t,s)=>{"use strict";s.d(t,{ld:()=>l.default,N_:()=>a(),jq:()=>n.default}),s(6174);var r=s(36018),a=s.n(r);s(1438),s(24260),s(57307);var n=s(8424),l=s(89372);s(70524)},84748:(e,t,s)=>{Promise.resolve().then(s.bind(s,85526))},85526:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Ym\\\\Desktop\\\\Ym\\\\sunday-school-attendance\\\\Website\\\\src\\\\app\\\\facilitator\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\app\\facilitator\\layout.tsx","default")},89372:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Ym\\\\Desktop\\\\Ym\\\\sunday-school-attendance\\\\Website\\\\src\\\\components\\\\ClientSessionProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\components\\ClientSessionProvider.tsx","default")},94638:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(41808);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},95757:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(5853),a=s(60554),n=s(30708),l=s.n(n),o=s(8067),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let d={children:["",{children:["facilitator",{children:["results",{children:["students",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,80561)),"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\app\\facilitator\\results\\students\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,85526)),"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\app\\facilitator\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,94638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,25347)),"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,92192,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,82137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,48358,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,94638))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\app\\facilitator\\results\\students\\[id]\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/facilitator/results/students/[id]/page",pathname:"/facilitator/results/students/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[625,709,755,808],()=>s(95757));module.exports=r})();