exports.id=660,exports.ids=[660],exports.modules={8424:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Ym\\\\Desktop\\\\Ym\\\\sunday-school-attendance\\\\Website\\\\src\\\\components\\\\NavBar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\components\\NavBar.tsx","default")},12499:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,49782,23)),Promise.resolve().then(s.t.bind(s,23552,23)),Promise.resolve().then(s.t.bind(s,30708,23)),Promise.resolve().then(s.t.bind(s,17319,23)),Promise.resolve().then(s.t.bind(s,92079,23)),Promise.resolve().then(s.t.bind(s,8487,23)),Promise.resolve().then(s.t.bind(s,55543,23)),Promise.resolve().then(s.t.bind(s,42241,23))},20485:()=>{},25347:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>n});var r=s(57307);s(20485);var a=s(83717);let n={title:"Ethiopian Orthodox Sunday School",description:"Attendance management for Sunday School"};function i({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:(0,r.jsxs)(a.ld,{children:[(0,r.jsx)(a.jq,{}),(0,r.jsx)("section",{className:"container mx-auto p-6",children:e})]})})})}},31457:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,36018,23)),Promise.resolve().then(s.bind(s,89372)),Promise.resolve().then(s.bind(s,8424))},32968:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(28625),a=s(37284),n=s(64996);function i({academicYear:e}){let[t,s]=(0,n.useState)({}),[i,o]=(0,n.useState)(!0),[d,l]=(0,n.useState)(!1),[c,m]=(0,n.useState)(null),h=e=>{s(t=>({...t,[e]:"Paid"===t[e]?"Not Paid":"Paid"}))},u=async()=>{l(!0),m(null);try{if(!(await fetch("/api/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:e,data:t})})).ok)throw Error("Failed to save");m("✅ Payment status saved successfully.")}catch(e){console.error(e),m("❌ Error saving payment status.")}finally{l(!1)}};return i?(0,r.jsx)("p",{className:"text-gray-600",children:"Loading payment status..."}):(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Payment Status for Academic Year ",e]}),(0,r.jsx)("button",{onClick:u,disabled:d,className:`px-6 py-2 rounded-lg font-semibold text-white transition ${d?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:d?"Saving...":"Save Changes"})]}),c&&(0,r.jsx)("p",{className:`mb-4 text-sm font-medium ${c.startsWith("✅")?"text-green-600":"text-red-600"}`,children:c}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:a.II.map(e=>{let s="Paid"===t[e];return(0,r.jsxs)("div",{className:`border rounded-xl p-4 transition-shadow shadow-sm hover:shadow-md ${s?"bg-green-100 border-green-400":"bg-red-100 border-red-400"}`,children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:e}),(0,r.jsxs)("label",{className:"flex items-center mt-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:s,onChange:()=>!s&&h(e),className:"mr-2",disabled:s}),(0,r.jsx)("span",{className:`text-sm ${s?"text-green-700":"text-red-700"}`,children:s?"Paid":"Not Paid"})]})]},e)})})]})}},37284:(e,t,s)=>{"use strict";s.d(t,{II:()=>r,fb:()=>a,hd:()=>i,lB:()=>n});let r=["Meskerem","Tikimt","Hidar","Tahsas","Tir","Yekatit","Megabit","Miyazia","Ginbot","Sene","Hamle","Nehase","Pagumē"];function a(e){let t=e.getFullYear(),s=e.getMonth()+1,r=e.getDate();return`${r}/${s}/${t-7}`}function n(e){let[t,s,r]=e.split("/").map(Number);return new Date(r+7,s-1,t)}function i(e){let t=parseInt(e),s=[];for(let e=1;e<=12;e++)for(let r=1;r<=30;r++)r%7==0&&s.push(`${r}/${e}/${t}`);return s}},44609:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,93948,23)),Promise.resolve().then(s.bind(s,76170)),Promise.resolve().then(s.bind(s,61502))},49451:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,88416,23)),Promise.resolve().then(s.t.bind(s,27342,23)),Promise.resolve().then(s.t.bind(s,74078,23)),Promise.resolve().then(s.t.bind(s,64193,23)),Promise.resolve().then(s.t.bind(s,91573,23)),Promise.resolve().then(s.t.bind(s,95405,23)),Promise.resolve().then(s.t.bind(s,97301,23)),Promise.resolve().then(s.t.bind(s,36159,23))},61502:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var r=s(28625);function a(){return(0,r.jsx)("nav",{className:"bg-gray-800 text-white p-4 shadow-md",children:(0,r.jsx)("div",{className:"container mx-auto flex justify-between items-center",children:(0,r.jsx)("h1",{className:"text-xl font-bold",children:"Birhane Hiwot Sunday School"})})})}},76170:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(28625),a=s(30034);function n({children:e}){return(0,r.jsx)(a.SessionProvider,{children:e})}},83559:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var r=s(28625),a=s(64996),n=s(50077),i=s(20058),o=s(37284),d=s(15222),l=s(89094),c=s(41254);function m({student:e,attendanceRecords:t,currentDate:s}){let[m,h]=(0,a.useState)(!1),u=(0,o.hd)(e.Academic_Year),x=u.reduce((e,t)=>{let[s]=t.split(" ");return e[s]||(e[s]=[]),e[s].push(t),e},{}),b=Object.fromEntries(t.map(e=>[e.date,e])),p=u.length,g=u.filter(e=>b[e]?.present).length,N=u.filter(e=>!b[e]?.present&&b[e]?.hasPermission).length,f=e=>`"${e?.replace(/"/g,'""')||""}"`,j=()=>{let t=u.map(t=>{let s=b[t];return{Student:`${e.First_Name} ${e.Father_Name}`,Date:t,Present:s?.present?"Yes":"No",Permission:s?.hasPermission?"Yes":"No",Reason:s?.reason||"",MarkedBy:s?.markedBy||"Birhaun Hiwot",Timestamp:s?.timestamp||new Date().toISOString()}}),s=new Blob([[Object.keys(t[0]).join(","),...t.map(e=>Object.values(e).map(e=>f(String(e))).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=`${e.First_Name}_Attendance.csv`,a.click()},v=()=>{let t=new n.uE;t.setFontSize(14);let s=`Attendance Report for ${e.First_Name} ${e.Father_Name}`;t.text(s,14,20);let r=u.map(e=>{let t=b[e],s=t?t.present?"Present":t.hasPermission?"Permission":"Absent":"Absent";return[e,s,t?.reason||("Permission"===s?"—":"N/A"),t?.markedBy||"Birhaun Hiwot",t?.timestamp?new Date(t.timestamp).toLocaleString():new Date().toLocaleString()]});(0,i.Ay)(t,{head:[["Date","Status","Reason","Marked By","Timestamp"]],body:r,startY:30,styles:{fontSize:10},headStyles:{fillColor:[33,37,41]},alternateRowStyles:{fillColor:[245,245,245]}}),t.save(`${e.First_Name}_Attendance_Report.pdf`)},y=e=>{"CSV"===e?j():"PDF"===e&&v(),h(!1)};return(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-gray-700",children:["Attendance for Academic Year ",e.Academic_Year]}),(0,r.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Generate Report"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-800 font-medium mb-6",children:[(0,r.jsxs)("div",{className:"bg-green-100 px-3 py-1 rounded-full",children:["Present: ",g,"/",p," (",(g/p*100).toFixed(0),"%)"]}),(0,r.jsxs)("div",{className:"bg-yellow-100 px-3 py-1 rounded-full",children:["Permission: ",N]}),(0,r.jsxs)("div",{className:"bg-red-100 px-3 py-1 rounded-full",children:["Absent: ",p-g-N]})]}),m&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",onClick:()=>h(!1),children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Choose Report Format"}),(0,r.jsxs)("div",{className:"flex justify-around",children:[(0,r.jsx)("button",{onClick:()=>y("CSV"),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Export as CSV"}),(0,r.jsx)("button",{onClick:()=>y("PDF"),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Generate PDF"})]}),(0,r.jsx)("button",{onClick:()=>h(!1),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Cancel"})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:0===Object.keys(x).length?(0,r.jsxs)("p",{className:"text-gray-600",children:["No Sundays found for ",e.Academic_Year,"."]}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:Object.entries(x).map(([e,t])=>(0,r.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-white border border-gray-300 rounded-xl shadow-lg p-5 hover:shadow-xl transition-shadow duration-300",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:e}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-3",children:t.map(e=>{let t=(0,o.lB)(e),a=b[e],n="",i="",m=null;t>s?n="":a?(i="Present"==(n=a.present?"Present":a.hasPermission?"Permission":"Absent")?"bg-green-500 text-white":"Permission"===n?"bg-yellow-500 text-white":"bg-red-500 text-white",m="Present"===n?(0,r.jsx)(d.A,{className:"w-5 h-5 inline-block mr-1"}):"Permission"===n?(0,r.jsx)(l.A,{className:"w-5 h-5 inline-block mr-1"}):(0,r.jsx)(c.A,{className:"w-5 h-5 inline-block mr-1"})):(n="Absent",i="bg-red-500 text-white");let h=`Marked by: ${a?.markedBy||"Birhaun Hiwot"}
Time: ${a?.timestamp?new Date(a.timestamp).toLocaleString():new Date().toLocaleString()}
Reason: ${"Permission"===n?a?.reason||"—":"N/A"}`;return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 bg-white hover:bg-gray-50 transition duration-150 ease-in-out",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-800",children:e}),n?(0,r.jsxs)("p",{className:`text-sm font-semibold ${i} inline-flex items-center px-2 py-1 rounded-full`,title:h,children:[m,n]}):(0,r.jsx)("p",{className:"text-sm text-gray-400",children:"No status"})]},e)})})]},e))})})]})}},83717:(e,t,s)=>{"use strict";s.d(t,{ld:()=>i.default,N_:()=>a(),jq:()=>n.default}),s(6174);var r=s(36018),a=s.n(r);s(1438),s(24260),s(57307);var n=s(8424),i=s(89372);s(70524)},88742:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(28625);function a({student:e}){let t=`${e.First_Name} ${e.Father_Name} ${e.Grandfather_Name}`.trim(),s=e.Christian_Name?` (${e.Christian_Name})`:"",a=e.DOB_Date&&e.DOB_Month&&e.DOB_Year?`${e.DOB_Date}/${e.DOB_Month}/${e.DOB_Year} (${e.Age})`:null;return(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-lg",children:[(0,r.jsx)("thead",{className:"bg-gray-300 text-gray-800 uppercase text-sm leading-normal",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"border p-4 text-left",children:"Field"}),(0,r.jsx)("th",{className:"border p-4 text-left",children:"Value"})]})}),(0,r.jsxs)("tbody",{children:[e.Unique_ID&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"ID Number"}),(0,r.jsx)("td",{className:"border p-4",children:e.Unique_ID})]}),t&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Name"}),(0,r.jsxs)("td",{className:"border p-4",children:[t,s]})]}),a&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Date of Birth & Age"}),(0,r.jsx)("td",{className:"border p-4",children:a})]}),e.Sex&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Sex"}),(0,r.jsx)("td",{className:"border p-4",children:e.Sex})]}),e.Phone_Number&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Phone Number"}),(0,r.jsx)("td",{className:"border p-4",children:e.Phone_Number})]}),e.Grade&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Grade (Sunday School)"}),(0,r.jsx)("td",{className:"border p-4",children:e.Grade})]}),e.Occupation&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Occupation"}),(0,r.jsx)("td",{className:"border p-4",children:e.Occupation})]}),e.Class&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Class (World School)"}),(0,r.jsx)("td",{className:"border p-4",children:e.Class})]}),e.School||e.School_Other?(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"School"}),(0,r.jsx)("td",{className:"border p-4",children:e.School||e.School_Other})]}):null,e.Educational_Background&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Educational Background"}),(0,r.jsx)("td",{className:"border p-4",children:e.Educational_Background})]}),e.Address||e.Address_Other?(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Address"}),(0,r.jsx)("td",{className:"border p-4",children:e.Address||e.Address_Other})]}):null,e.Academic_Year&&(0,r.jsxs)("tr",{className:"hover:bg-gray-100 transition duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"border p-4 font-medium",children:"Academic Year"}),(0,r.jsx)("td",{className:"border p-4",children:e.Academic_Year})]})]})]})})}},89372:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(20413).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Ym\\\\Desktop\\\\Ym\\\\sunday-school-attendance\\\\Website\\\\src\\\\components\\\\ClientSessionProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Ym\\Desktop\\Ym\\sunday-school-attendance\\Website\\src\\components\\ClientSessionProvider.tsx","default")},94638:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(41808);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};